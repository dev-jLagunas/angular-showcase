import{a as x,h as T,l as C}from"./chunk-W6RIRVWT.js";import{G as c,I as f,Ia as L,Ja as S,K as p,N as A,Q as a,Ra as B,U as F,X as m,da as R,db as k,f as w,g as l,ga as P,h as g,ha as N,ia as D,j as o,m as O,ma as y,n as u,pb as U,qb as I,t as M,u as d,v as E,xa as H}from"./chunk-E6IX27NE.js";import{e as n}from"./chunk-5FZOKLP6.js";var b=new A("HIGHLIGHT_OPTIONS");function ht(i){return[{provide:b,useValue:i}]}var h=function(i){return i.FULL_WITH_CORE_LIBRARY_IMPORTS="The full library and the core library were imported, only one of them should be imported!",i.FULL_WITH_LANGUAGE_IMPORTS="The highlighting languages were imported they are not needed!",i.CORE_WITHOUT_LANGUAGE_IMPORTS="The highlighting languages were not imported!",i.LANGUAGE_WITHOUT_CORE_IMPORTS="The core library was not imported!",i.NO_FULL_AND_NO_CORE_IMPORTS="Highlight.js library was not imported!",i}(h||{}),V=(()=>{let e=class e{constructor(){this.document=a(x),this.isPlatformBrowser=T(a(y)),this.options=a(b,{optional:!0}),this._ready=new w(null),this.ready=O(this._ready.asObservable().pipe(d(t=>!!t))),this.isPlatformBrowser&&(this.document.defaultView.hljs?this._ready.next(this.document.defaultView.hljs):this._loadLibrary().pipe(c(t=>this.options?.lineNumbersLoader?(this.document.defaultView.hljs=t,this.loadLineNumbers().pipe(f(s=>{s.activateLineNumbers(),this._ready.next(t)}))):(this._ready.next(t),l)),E(t=>(console.error("[HLJS] ",t),this._ready.error(t),l))).subscribe(),this.options?.themePath&&this.loadTheme(this.options.themePath))}_loadLibrary(){if(this.options){if(this.options.fullLibraryLoader&&this.options.coreLibraryLoader)return o(()=>h.FULL_WITH_CORE_LIBRARY_IMPORTS);if(this.options.fullLibraryLoader&&this.options.languages)return o(()=>h.FULL_WITH_LANGUAGE_IMPORTS);if(this.options.coreLibraryLoader&&!this.options.languages)return o(()=>h.CORE_WITHOUT_LANGUAGE_IMPORTS);if(!this.options.coreLibraryLoader&&this.options.languages)return o(()=>h.LANGUAGE_WITHOUT_CORE_IMPORTS);if(this.options.fullLibraryLoader)return this.loadFullLibrary();if(this.options.coreLibraryLoader&&this.options.languages&&Object.keys(this.options.languages).length)return this.loadCoreLibrary().pipe(c(t=>this._loadLanguages(t)))}return o(()=>h.NO_FULL_AND_NO_CORE_IMPORTS)}_loadLanguages(t){let s=Object.entries(this.options.languages).map(([r,W])=>_(W()).pipe(f(v=>t.registerLanguage(r,v))));return M(s).pipe(u(()=>t))}loadCoreLibrary(){return _(this.options.coreLibraryLoader())}loadFullLibrary(){return _(this.options.fullLibraryLoader())}loadLineNumbers(){return g(this.options.lineNumbersLoader())}setTheme(t){this.isPlatformBrowser&&(this._themeLinkElement?this._themeLinkElement.href=t:this.loadTheme(t))}loadTheme(t){this._themeLinkElement=this.document.createElement("link"),this._themeLinkElement.href=t,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.document.head.appendChild(this._themeLinkElement)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),_=i=>g(i).pipe(d(e=>!!e?.default),u(e=>e.default)),z=(()=>{let e=class e{constructor(){this.loader=a(V),this.options=a(b,{optional:!0}),this.hljsSignal=L(null),this.hljs=U(()=>this.hljsSignal()),this.loader.ready.then(t=>{this.hljsSignal.set(t),this.options?.highlightOptions&&t.configure(this.options.highlightOptions)})}highlight(t,s){return n(this,null,function*(){return(yield this.loader.ready).highlight(t,s)})}highlightAuto(t,s){return n(this,null,function*(){return(yield this.loader.ready).highlightAuto(t,s)})}highlightElement(t){return n(this,null,function*(){(yield this.loader.ready).highlightElement(t)})}highlightAll(){return n(this,null,function*(){(yield this.loader.ready).highlightAll()})}configure(t){return n(this,null,function*(){(yield this.loader.ready).configure(t)})}registerLanguage(t,s){return n(this,null,function*(){(yield this.loader.ready).registerLanguage(t,s)})}unregisterLanguage(t){return n(this,null,function*(){(yield this.loader.ready).unregisterLanguage(t)})}registerAliases(r,W){return n(this,arguments,function*(t,{languageName:s}){(yield this.loader.ready).registerAliases(t,{languageName:s})})}listLanguages(){return n(this,null,function*(){return(yield this.loader.ready).listLanguages()})}getLanguage(t){return n(this,null,function*(){return(yield this.loader.ready).getLanguage(t)})}safeMode(){return n(this,null,function*(){(yield this.loader.ready).safeMode()})}debugMode(){return n(this,null,function*(){(yield this.loader.ready).debugMode()})}lineNumbersBlock(t,s){return n(this,null,function*(){let r=yield this.loader.ready;r.lineNumbersBlock&&r.lineNumbersBlock(t,s)})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),j;function Y(){if(!j)try{j=window?.trustedTypes?.createPolicy("ngx-highlightjs",{createHTML:i=>i})}catch{}return j}function q(i){return Y()?.createHTML(i)||i}var G=(()=>{let e=class e{constructor(){this._hljs=a(z),this._nativeElement=a(N).nativeElement,this._sanitizer=a(C),this._platform=a(y),T(this._platform)&&(I(()=>{let t=this.code();this.setTextContent(t||""),t&&this.highlightElement(t)}),I(()=>{let t=this.highlightResult();this.setInnerHTML(t?.value),this.highlighted.emit(t)}))}setTextContent(t){requestAnimationFrame(()=>this._nativeElement.textContent=t)}setInnerHTML(t){requestAnimationFrame(()=>this._nativeElement.innerHTML=q(this._sanitizer.sanitize(H.HTML,t)||""))}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=m({type:e});let i=e;return i})();var lt=(()=>{let e=class e extends G{constructor(){super(...arguments),this.code=P(null,{alias:"highlightAuto"}),this.highlightResult=L(null),this.highlighted=new D}highlightElement(t){return n(this,null,function*(){let s=yield this._hljs.highlightAuto(t,this.languages);this.highlightResult.set(s)})}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=R(e)))(r||e)}})(),e.\u0275dir=m({type:e,selectors:[["","highlightAuto",""]],hostVars:2,hostBindings:function(s,r){s&2&&B("hljs",!0)},inputs:{code:[F.SignalBased,"highlightAuto","code"],languages:"languages"},outputs:{highlighted:"highlighted"},standalone:!0,features:[k([{provide:G,useExisting:e}]),S]});let i=e;return i})();export{ht as a,lt as b};
